{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/17025/Documents/zaxximo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/17025/Documents/zaxximo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{GET_STAFF,ADD_STAFF,DELETE_STAFF,SET_LOADING,STAFF_ERROR}from\"./types\";export var getStaff=function getStaff(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading();_context.next=4;return fetch(\"/api/staff\");case 4:res=_context.sent;_context.next=7;return res.json();case 7:data=_context.sent;dispatch({type:GET_STAFF,payload:data.data});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:STAFF_ERROR,payload:_context.t0});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var addStaff=function addStaff(s){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading();_context2.next=4;return fetch(\"/api/staff\",{method:\"POST\",body:JSON.stringify(s),headers:{\"Content-Type\":\"application/json\"}});case 4:res=_context2.sent;_context2.next=7;return res.json();case 7:data=_context2.sent;dispatch({type:ADD_STAFF,payload:data.data});_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:STAFF_ERROR,payload:_context2.t0});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var deleteStaff=function deleteStaff(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;setLoading();_context3.next=4;return fetch(\"/api/staff/\".concat(id),{method:\"DELETE\"});case 4:dispatch({type:DELETE_STAFF,payload:id});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:STAFF_ERROR,payload:_context3.t0});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var setLoading=function setLoading(){return{type:SET_LOADING};};","map":{"version":3,"sources":["C:/Users/17025/Documents/zaxximo/client/src/actions/staffActions.js"],"names":["GET_STAFF","ADD_STAFF","DELETE_STAFF","SET_LOADING","STAFF_ERROR","getStaff","dispatch","setLoading","fetch","res","json","data","type","payload","addStaff","s","method","body","JSON","stringify","headers","deleteStaff","id"],"mappings":"yTAAA,OACEA,SADF,CAEEC,SAFF,CAGEC,YAHF,CAIEC,WAJF,CAKEC,WALF,KAMO,SANP,CAQA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,kGAAM,iBAAOC,QAAP,+IAE1BC,UAAU,GAFgB,sBAIRC,CAAAA,KAAK,CAAC,YAAD,CAJG,QAIpBC,GAJoB,qCAKPA,CAAAA,GAAG,CAACC,IAAJ,EALO,QAKpBC,IALoB,eAO1BL,QAAQ,CAAC,CACPM,IAAI,CAAEZ,SADC,CAEPa,OAAO,CAAEF,IAAI,CAACA,IAFP,CAAD,CAAR,CAP0B,iFAY1BL,QAAQ,CAAC,CACPM,IAAI,CAAER,WADC,CAEPS,OAAO,YAFA,CAAD,CAAR,CAZ0B,qEAAN,gEAAjB,CAmBP,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,kGAAO,kBAAOT,QAAP,oJAE3BC,UAAU,GAFiB,uBAITC,CAAAA,KAAK,CAAC,YAAD,CAAe,CACpCQ,MAAM,CAAE,MAD4B,CAEpCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,CAAf,CAF8B,CAGpCK,OAAO,CAAE,CACP,eAAgB,kBADT,CAH2B,CAAf,CAJI,QAIrBX,GAJqB,uCAWRA,CAAAA,GAAG,CAACC,IAAJ,EAXQ,QAWrBC,IAXqB,gBAa3BL,QAAQ,CAAC,CACPM,IAAI,CAAEX,SADC,CAEPY,OAAO,CAAEF,IAAI,CAACA,IAFP,CAAD,CAAR,CAb2B,qFAkB3BL,QAAQ,CAAC,CACPM,IAAI,CAAER,WADC,CAEPS,OAAO,aAFA,CAAD,CAAR,CAlB2B,uEAAP,kEAAjB,CAyBP,MAAO,IAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,kGAAQ,kBAAOhB,QAAP,uIAE/BC,UAAU,GAFqB,uBAIzBC,CAAAA,KAAK,sBAAec,EAAf,EAAqB,CAC9BN,MAAM,CAAE,QADsB,CAArB,CAJoB,QAQ/BV,QAAQ,CAAC,CACPM,IAAI,CAAEV,YADC,CAEPW,OAAO,CAAES,EAFF,CAAD,CAAR,CAR+B,mFAa/BhB,QAAQ,CAAC,CACPM,IAAI,CAAER,WADC,CAEPS,OAAO,aAFA,CAAD,CAAR,CAb+B,sEAAR,kEAApB,CAoBP,MAAO,IAAMN,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC9B,MAAO,CACLK,IAAI,CAAET,WADD,CAAP,CAGD,CAJM","sourcesContent":["import {\r\n  GET_STAFF,\r\n  ADD_STAFF,\r\n  DELETE_STAFF,\r\n  SET_LOADING,\r\n  STAFF_ERROR,\r\n} from \"./types\";\r\n\r\nexport const getStaff = () => async (dispatch) => {\r\n  try {\r\n    setLoading();\r\n\r\n    const res = await fetch(\"/api/staff\");\r\n    const data = await res.json();\r\n\r\n    dispatch({\r\n      type: GET_STAFF,\r\n      payload: data.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: STAFF_ERROR,\r\n      payload: err,\r\n    });\r\n  }\r\n};\r\n\r\nexport const addStaff = (s) => async (dispatch) => {\r\n  try {\r\n    setLoading();\r\n\r\n    const res = await fetch(\"/api/staff\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(s),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const data = await res.json();\r\n\r\n    dispatch({\r\n      type: ADD_STAFF,\r\n      payload: data.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: STAFF_ERROR,\r\n      payload: err,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteStaff = (id) => async (dispatch) => {\r\n  try {\r\n    setLoading();\r\n\r\n    await fetch(`/api/staff/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n\r\n    dispatch({\r\n      type: DELETE_STAFF,\r\n      payload: id,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: STAFF_ERROR,\r\n      payload: err,\r\n    });\r\n  }\r\n};\r\n\r\nexport const setLoading = () => {\r\n  return {\r\n    type: SET_LOADING,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}